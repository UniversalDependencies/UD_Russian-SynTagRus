cat ru_syntagrus-ud-train.conllu | perl -e 'use open ":utf8"; binmode STDIN, ":utf8"; binmode STDOUT, ":utf8"; while(<>) { s/\r?\n$//; if(m/^\s*$/) {$_ = ""} else { my @f=split(/\t/,$_); if($f[2] =~ m/^\s*$/ || $f[2] eq chr(160)) { $f[2] = "_"; } if($f[4] =~ m/^\s*$/) { $f[4] = "_"; } if($f[5] eq $f[3] || $f[5] =~ m/^\s*$/) { $f[5]="_" } if($f[7] eq "ROOT") { $f[7] = "root"; } $f[5] =~ s/Variant=brev/Variant=Brev/; $_=join("\t",@f); } $_ .= "\n"; print }' > fixed.conllu
